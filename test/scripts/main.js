!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firstImportantPaint={})}(this,(function(e){"use strict";const t={markName:"first-important-paint",timeout:6e4,selector:"[important]"};let o,n,a=!1;const s=["mousedown","keypress","scroll","touchstart"],r=()=>{a=!0,s.forEach((e=>{document.removeEventListener(e,r)}))};s.forEach((e=>{document.addEventListener(e,r,{passive:!0,once:!0})}));const i=e=>()=>{const{markName:t,selector:s,timeout:r}=e;document.querySelectorAll(s).forEach((async e=>{if(!a&&!n){const o=await(async e=>"IMG"===e.tagName?e.complete:(await document.fonts.ready,!0))(e);!o||a||n||(n=e,((e,t)=>{requestAnimationFrame((()=>{const o=new MessageChannel;o.port1.onmessage=()=>{performance.mark(t,{detail:{nodeName:e.nodeName,src:"IMG"===e.nodeName?e.src:"",id:e.id}})},o.port2.postMessage(void 0)}))})(e,t))}})),performance.now()>r||a||n?cancelAnimationFrame(o):o=requestAnimationFrame(i(e))};e.start=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Object.assign(t,e);o=requestAnimationFrame(i(n))},Object.defineProperty(e,"__esModule",{value:!0})}));
(function(global,factory){if(typeof define==="function"&&define.amd){define(["../../dist/first-important-paint.js"],factory)}else if(typeof exports!=="undefined"){factory(require("../../dist/first-important-paint.js"))}else{var mod={exports:{}};factory(global.firstImportantPaint);global.main=mod.exports}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,function(_firstImportantPaint){"use strict";(0,_firstImportantPaint.start)()});