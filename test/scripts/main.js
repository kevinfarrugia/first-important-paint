!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firstImportantPaint=e.firstImportantPaint||{})}(this,(function(e){"use strict";const t={markName:"first-important-paint",timeout:6e4,selector:"[important]"};let o,n,a=!1;const r=["mousedown","keypress","scroll","touchstart"],s=()=>{r.forEach((e=>{document.removeEventListener(e,s)})),a=!0};r.forEach((e=>{document.addEventListener(e,s,{passive:!0,once:!0})}));const i=e=>()=>{const{markName:t,selector:r,timeout:s}=e;document.querySelectorAll(r).forEach((e=>{a||n||n===e||("IMG"!==e.tagName||e.complete)&&(n=e,requestAnimationFrame((()=>{requestAnimationFrame((()=>{const o=new MessageChannel;o.port1.onmessage=()=>{performance.mark(t,{detail:{nodeName:e.nodeName,src:"IMG"===e.nodeName?e.src:"",id:e.id}})},o.port2.postMessage(void 0)}))})))})),performance.now()>s||a||n?cancelAnimationFrame(o):o=requestAnimationFrame(i(e))};e.start=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Object.assign(t,e);o=requestAnimationFrame(i(n))},Object.defineProperty(e,"__esModule",{value:!0})}));
(function(global,factory){if(typeof define==="function"&&define.amd){define(["../../dist/first-important-paint.js"],factory)}else if(typeof exports!=="undefined"){factory(require("../../dist/first-important-paint.js"))}else{var mod={exports:{}};factory(global.firstImportantPaint);global.main=mod.exports}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,function(_firstImportantPaint){"use strict";(0,_firstImportantPaint.start)()});