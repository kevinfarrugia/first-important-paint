!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firstImportantPaint={})}(this,(function(e){"use strict";const t={markName:"first-important-paint",timeout:6e4,selector:"[important]"};let n,o,a=!1;const s=["mousedown","keypress","scroll","touchstart"],r=()=>{s.forEach((e=>{document.removeEventListener(e,r)})),a=!0};s.forEach((e=>{document.addEventListener(e,r,{passive:!0,once:!0})}));const i=e=>()=>{const{markName:t,selector:s,timeout:r}=e;document.querySelectorAll(s).forEach((async e=>{if(!a){const n=new Promise((t=>{"IMG"===e.tagName&&e.complete?t(!0):document.fonts.ready.then((()=>{t(!0)}))}));await n,o||o===e||(o=e,requestAnimationFrame((()=>{requestAnimationFrame((()=>{const n=new MessageChannel;n.port1.onmessage=()=>{performance.mark(t,{detail:{nodeName:e.nodeName,src:"IMG"===e.nodeName?e.src:"",id:e.id}})},n.port2.postMessage(void 0)}))})))}})),performance.now()>r||a||o?cancelAnimationFrame(n):n=requestAnimationFrame(i(e))};e.start=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=Object.assign(t,e);n=requestAnimationFrame(i(o))},Object.defineProperty(e,"__esModule",{value:!0})}));
(function(global,factory){if(typeof define==="function"&&define.amd){define(["../../dist/first-important-paint.js"],factory)}else if(typeof exports!=="undefined"){factory(require("../../dist/first-important-paint.js"))}else{var mod={exports:{}};factory(global.firstImportantPaint);global.main=mod.exports}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,function(_firstImportantPaint){"use strict";(0,_firstImportantPaint.start)()});